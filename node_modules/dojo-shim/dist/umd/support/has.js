(function (factory) {
    if (typeof module === 'object' && typeof module.exports === 'object') {
        var v = factory(require, exports); if (v !== undefined) module.exports = v;
    }
    else if (typeof define === 'function' && define.amd) {
        define(["require", "exports", './global', 'dojo-has/has', 'dojo-has/has', 'dojo-has/has'], factory);
    }
})(function (require, exports) {
    "use strict";
    function __export(m) {
        for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];
    }
    var global_1 = require('./global');
    var has_1 = require('dojo-has/has');
    var has_2 = require('dojo-has/has');
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.default = has_1.default;
    __export(require('dojo-has/has'));
    /* ECMAScript 6 and 7 Features */
    /* Object */
    has_2.add('es6-object-assign', typeof Object.assign === 'function');
    /* Array */
    has_2.add('es6-array-from', 'from' in global_1.default.Array);
    has_2.add('es6-array-of', 'of' in global_1.default.Array);
    has_2.add('es6-array-fill', function () {
        if ('fill' in global_1.default.Array.prototype) {
            /* Some versions of Safari do not properly implement this */
            return [1].fill(9, Number.POSITIVE_INFINITY)[0] === 1;
        }
        return false;
    });
    has_2.add('es6-array-findindex', 'findIndex' in global_1.default.Array.prototype);
    has_2.add('es6-array-find', 'find' in global_1.default.Array.prototype);
    has_2.add('es6-array-copywithin', 'copyWithin' in global_1.default.Array.prototype);
    has_2.add('es7-array-includes', 'includes' in global_1.default.Array.prototype);
    /* String */
    has_2.add('es6-string-raw', 'raw' in global_1.default.String);
    has_2.add('es6-string-fromcodepoint', 'fromCodePoint' in global_1.default.String);
    has_2.add('es6-string-codepointat', 'codePointAt' in global_1.default.String.prototype);
    has_2.add('es6-string-normalize', 'normalize' in global_1.default.String.prototype);
    has_2.add('es6-string-repeat', 'repeat' in global_1.default.String.prototype);
    has_2.add('es6-string-startswith', 'startsWith' in global_1.default.String.prototype);
    has_2.add('es6-string-endswith', 'endsWith' in global_1.default.String.prototype);
    has_2.add('es6-string-includes', 'includes' in global_1.default.String.prototype);
    /* Math */
    has_2.add('es6-math-acosh', typeof global_1.default.Math.acosh === 'function');
    has_2.add('es6-math-imul', function () {
        if ('imul' in global_1.default.Math) {
            /* Some versions of Safari on ios do not properly implement this */
            return Math.imul(0xffffffff, 5) === -5;
        }
        return false;
    });
    /* Promise */
    has_2.add('es6-promise', typeof global_1.default.Promise !== 'undefined');
    /* Set */
    has_2.add('es6-set', function () {
        if (typeof global_1.default.Set === 'function') {
            /* IE11 and older versions of Safari are missing critical ES6 Set functionality */
            var set = new global_1.default.Set([1]);
            return set.has(1) && 'keys' in set && typeof set.keys === 'function';
        }
        return false;
    });
    /* Map */
    has_2.add('es6-map', function () {
        if (typeof global_1.default.Map === 'function') {
            /* IE11 and older versions of Safari are missing critical ES6 Map functionality */
            var map = new global_1.default.Map([[0, 1]]);
            return map.has(0) && typeof map.keys === 'function' &&
                typeof map.values === 'function' && typeof map.entries === 'function';
        }
        return false;
    });
    /* WeakMap */
    has_2.add('es6-weakmap', function () {
        if (typeof global_1.default.WeakMap !== 'undefined') {
            /* IE11 and older versions of Safari are missing critical ES6 Map functionality */
            var key1 = {};
            var key2 = {};
            var map = new global_1.default.WeakMap([[key1, 1]]);
            return map.get(key1) === 1 && map.set(key2, 2) === map;
        }
        return false;
    });
    /* Symbol */
    has_2.add('es6-symbol', typeof global_1.default.Symbol === 'function');
    /* Miscellaneous features */
    has_2.add('float32array', 'Float32Array' in global_1.default);
    has_2.add('setimmediate', typeof global_1.default.setImmediate !== 'undefined');
    has_2.add('postmessage', typeof postMessage === 'function');
    has_2.add('microtasks', function () { return has_1.default('es6-promise') || has_1.default('host-node') || has_1.default('dom-mutationobserver'); });
    /* DOM Features */
    has_2.add('dom-mutationobserver', function () { return has_1.default('host-browser') && Boolean(global_1.default.MutationObserver || global_1.default.WebKitMutationObserver); });
});
//# sourceMappingURL=has.js.map